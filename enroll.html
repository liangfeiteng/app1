<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>注册</title>
		<link rel="stylesheet" href="./css/reset.css" />
		<link rel="stylesheet" href="./css/swiper-3.4.0.min.css" />
		<link rel="stylesheet" href="./font/iconfont.css" />
		<link rel="stylesheet" href="./font2/iconfont.css" />
		<link rel="stylesheet" href="./css/style.css" />
		<script src="./js/zepto.min.js"></script>
		<script src="./js/base.js"></script>
		<script src="./js/swiper-3.4.0.min.js"></script>
		<script src="./js/fastclick.js"></script>
		<script src="./js/index.js"></script>
	</head>
	<body>
		<div class="login-logo">
			<p><i class="iconfont icon-icon3"></i></p>
			<h1>阅居</h1>
		</div>
		<div class="login-box">
			<div class="wrapper">
				<form action="home-page.html" method="post">
					<p class="user"><input type="text" id="er-user" placeholder="邮箱/用户/手机号" /><i class="iconfont icon-gerenzhongxin"></i></p>
					<p class="pass"><input type="password" id="er-pass" placeholder="请输入密码"/><i class="iconfont icon-mima"></i></p>
					<p class="dynamic-pass"><input type="text" id="dynamic" placeholder="请输入动态密码"/><span id="dclick">获取验证码</span></p>
					<p class="sub"><input id="er-sub" type="submit" value="注册完成"/></p>
				</form>
				<p class="center">注册即代表同意《阅居注册条款》和《阅居社区条款》</p>
			</div>
		</div>
		<script>
			var user=/^[a-z0-9_-]{3,16}$/;
			var email=/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/;
			var iphone=/^([1])+[3,5,8]([0-9]{9}$)/;
			var pass=/^[a-z0-9_-]{6,18}$/;
			var otext3=document.getElementById("er-user");
			var otext4=document.getElementById("er-pass");
			var obtn2=document.getElementById("er-sub");
			var obtn3=document.getElementById("dclick");
			var odynamic=document.getElementById("dynamic");
			var str="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
			function add(){
				var arr="";
				for(var i=1;i<7;i++){
		    		var num=Math.ceil(Math.random()*str.length);
		    		arr+=str.charAt(num);
					odynamic.value=arr;	
				}
			}
			obtn3.onclick=function(){
				odynamic.value='';
				add();
			}
			obtn2.onclick=function(){
				var val3=otext3.value;
				var val4=otext4.value;
				if((user.test(val3)==true||email.test(val3)==true||iphone.test(val3)==true)&&pass.test(val4)==true&&odynamic.value!=''){
					alert("输入合法");
				}else{
					alert("输入不合法");
					return false;
				}
			}
		</script>
	</body>
</html>
